"use strict";(self.webpackChunkaccounts_frontend=self.webpackChunkaccounts_frontend||[]).push([[89],{7699:function(e,a,l){l.d(a,{Fp:function(){return t},JS:function(){return s},Y_:function(){return r},bj:function(){return i},hQ:function(){return n}});var s="GROUP_LIST_REFRESH",n="ACCOUNT_LIST_REFRESH",r="TRANSACTION_LIST_REFRESH",t="BANK_TRANSACTION_LIST_REFRESH",i="USER_LIST_REFRESH"},3089:function(e,a,l){l.r(a),l.d(a,{default:function(){return y}});var s=l(2791),n=l(6871),r=l(5861),t=l(885),i=l(7757),o=l.n(i),c=l(5705),d=l(7953),m=l(4286),u=l(919),h=l(9025),p=l(989),x=l(715),b=l(5854),v=l(3014),f=l(31),g=l(3829),N=l(1848),j=l(7699),C=l(7436),w=l(184);var B=function(){var e=(0,n.UO)(),a=(0,n.s0)(),l=(0,s.useState)(!0),i=(0,t.Z)(l,2),B=i[0],y=i[1],A=(0,s.useState)(!0),S=(0,t.Z)(A,2),k=S[0],_=S[1],F=(0,s.useState)([]),L=(0,t.Z)(F,2),R=L[0],E=L[1],T=(0,s.useContext)(C.Il),Z=(0,c.TA)({initialValues:{_id:"",code:"",firmName:"",proprietor:"",phone:"",dno:"",strtNo:"",area:"",town:"",dl1:"",dl2:"",gst:"",mailid:"",opngBalAmt:0,groupCode:void 0},validationSchema:d.Ry({code:d.Z_().max(10,"Code must be 10 characters or less").required("Code is required"),firmName:d.Z_().max(50,"Firm Name must be 50 characters or less").required("FirmName is required"),proprietor:d.Z_().max(50,"Proprietor must be 50 characters or less"),phone:d.Z_().min(10,"Phone number must be 10 characters").max(10,"Phone number must be 10 characters"),dno:d.Z_().max(30,"Dno must be 30 characters or less"),strtNo:d.Z_().max(30,"Street No. must be 30 characters or less"),area:d.Z_().max(50,"Area must be 50 characters or less"),town:d.Z_().max(50,"Town must be 50 characters or less"),dl1:d.Z_().max(50,"Drug License must be 50 characters or less"),dl2:d.Z_().max(50,"Drug License must be 50 characters or less"),gst:d.Z_().min(2,"GST must be 2 characters or more").max(50,"GST must be 50 characters or less"),mailid:d.Z_().email("Invalid Mail ID").max(50,"Mail ID must be 50 characters or less"),opngBalAmt:d.Rx().nullable().required("Opening balance is requried"),groupCode:d.Z_().required("Group code is requried")}),onSubmit:function(){var e=(0,r.Z)(o().mark((function e(a,l){var s,n,r,t,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=l.setErrors,null===T||void 0===T||T.setDisplayLoader(!0),n=Object.assign({},a),e.prev=3,!k){e.next=11;break}return delete n._id,e.next=8,(0,f.o1)(n);case 8:r=e.sent,e.next=16;break;case 11:return t=n._id,delete n._id,e.next=15,(0,f.sG)(n,t);case 15:r=e.sent;case 16:null===T||void 0===T||T.setDisplayLoader(!1),i={title:"Success",message:r.data,type:g.Xo.SUCCESS,onClose:function(){D(!0)}},(0,g.wp)(i),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),null===T||void 0===T||T.setDisplayLoader(!1),"string"==typeof e.t0&&e.t0.includes("already exists")?s({code:"Code already exists"}):(c={title:"Error",message:e.t0,type:g.Xo.ERROR},(0,g.wp)(c));case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(a,l){return e.apply(this,arguments)}}()});(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.gN)();case 3:a=e.sent,E(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),E([]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,s.useEffect)((function(){if(e.id){_(!1);var a=function(){var a=(0,r.Z)(o().mark((function a(){var l,s;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,f.D0)(e.id);case 3:l=a.sent,Z.setValues(l.data),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),s={title:"Error",message:a.t0,type:g.Xo.ERROR},(0,g.wp)(s);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}();a()}else _(!0)}),[e.id]);var D=function(e){e&&N.YB.dispatch(j.hQ),y(!1),a(-1)},I=(0,w.jsxs)("div",{children:[(0,w.jsx)(u.z,{label:"Close",icon:"pi pi-times",onClick:function(){return D()}}),(0,w.jsx)(u.z,{type:"button",label:"Save",icon:"pi pi-save",onClick:Z.submitForm,disabled:!Z.isValid})]}),K=function(e){return!(!Z.touched[e]||!Z.errors[e])},O=function(e){return K(e)&&(0,w.jsx)("small",{className:"p-error",children:Z.errors[e]})};return(0,w.jsx)(m.V,{visible:B,modal:!0,closeOnEscape:!1,header:"Account - ".concat(k?"Create":"Edit"),footer:I,onHide:D,style:{width:"50%"},blockScroll:!0,children:(0,w.jsx)("div",{className:"p-2",children:(0,w.jsxs)("form",{className:"p-fluid",children:[(0,w.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsxs)("label",{htmlFor:"code",className:"block mb-2",children:[(0,w.jsx)("span",{className:"text-[#e24c4c]",children:"*"}),"Code"]}),(0,w.jsx)(h.o,{type:"text",name:"code",id:"code",value:Z.values.code,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("code"),"p-inputtext-sm":!0}),placeholder:"Code",autoFocus:!0,required:!0,maxLength:10,disabled:!k}),O("code")]}),(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsxs)("label",{htmlFor:"firmName",className:"block mb-2",children:[(0,w.jsx)("span",{className:"text-[#e24c4c]",children:"*"}),"Firm Name"]}),(0,w.jsx)(h.o,{type:"text",name:"firmName",id:"firmName",value:Z.values.firmName,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("firmName"),"p-inputtext-sm":!0}),placeholder:"Firm Name",required:!0,maxLength:50}),O("firmName")]})]}),(0,w.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsx)("label",{htmlFor:"proprietor",className:"block mb-2",children:"Proprietor"}),(0,w.jsx)(h.o,{type:"text",name:"proprietor",id:"proprietor",value:Z.values.proprietor,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("proprietor"),"p-inputtext-sm":!0}),placeholder:"Proprietor",maxLength:50}),O("proprietor")]}),(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsx)("label",{htmlFor:"phone",className:"block mb-2",children:"Phone"}),(0,w.jsx)(x.v,{type:"text",name:"phone",id:"phone",mask:"9999999999",slotChar:"",unmask:!0,autoClear:!1,value:Z.values.phone,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("phone"),"p-inputtext-sm":!0}),placeholder:"Phone"}),O("phone")]})]}),(0,w.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsx)("label",{htmlFor:"dno",className:"block mb-2",children:"Door No"}),(0,w.jsx)(h.o,{type:"text",name:"dno",id:"dno",value:Z.values.dno,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("dno"),"p-inputtext-sm":!0}),placeholder:"Door No",maxLength:30}),O("dno")]}),(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsx)("label",{htmlFor:"strtNo",className:"block mb-2",children:"Street No"}),(0,w.jsx)(h.o,{type:"text",name:"strtNo",id:"strtNo",value:Z.values.strtNo,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("strtNo"),"p-inputtext-sm":!0}),placeholder:"Street No",maxLength:30}),O("strtNo")]})]}),(0,w.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsx)("label",{htmlFor:"area",className:"block mb-2",children:"Area"}),(0,w.jsx)(h.o,{type:"text",name:"area",id:"area",value:Z.values.area,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("area"),"p-inputtext-sm":!0}),placeholder:"Area",maxLength:50}),O("area")]}),(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsx)("label",{htmlFor:"town",className:"block mb-2",children:"Town"}),(0,w.jsx)(h.o,{type:"text",name:"town",id:"town",value:Z.values.town,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("town"),"p-inputtext-sm":!0}),placeholder:"Town",maxLength:50}),O("town")]})]}),(0,w.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsx)("label",{htmlFor:"dl1",className:"block mb-2",children:"Drug License 1"}),(0,w.jsx)(h.o,{type:"text",name:"dl1",id:"dl1",value:Z.values.dl1,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("dl1"),"p-inputtext-sm":!0}),placeholder:"Drug License 1",maxLength:50}),O("dl1")]}),(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsx)("label",{htmlFor:"dl2",className:"block mb-2",children:"Drug License 2"}),(0,w.jsx)(h.o,{type:"text",name:"dl2",id:"dl2",value:Z.values.dl2,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("dl2"),"p-inputtext-sm":!0}),placeholder:"Drug License 2",maxLength:50}),O("dl2")]})]}),(0,w.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsx)("label",{htmlFor:"gst",className:"block mb-2",children:"GST"}),(0,w.jsx)(h.o,{type:"text",name:"gst",id:"gst",value:Z.values.gst,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("gst"),"p-inputtext-sm":!0}),placeholder:"GST",minLength:2,maxLength:15}),O("gst")]}),(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsx)("label",{htmlFor:"mailid",className:"block mb-2",children:"Mail ID"}),(0,w.jsx)(h.o,{type:"text",name:"mailid",id:"mailid",value:Z.values.mailid,onChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("mailid"),"p-inputtext-sm":!0}),placeholder:"Mail ID",maxLength:50}),O("mailid")]})]}),(0,w.jsxs)("div",{className:"flex justify-between gap-4",children:[(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsxs)("label",{htmlFor:"opngBalAmt",className:"block mb-2",children:[(0,w.jsx)("span",{className:"text-[#e24c4c]",children:"*"}),"Opening Balance"]}),(0,w.jsx)(p.R,{id:"opngBalAmt",name:"opngBalAmt",value:Z.values.opngBalAmt,onValueChange:Z.handleChange,onBlur:Z.handleBlur,className:(0,b.AK)({"p-invalid":K("opngBalAmt"),"p-inputtext-sm":!0}),placeholder:"Opening Balance",mode:"decimal",maxFractionDigits:2,locale:"en-IN",required:!0}),O("opngBalAmt")]}),(0,w.jsxs)("div",{className:"field mb-6 w-1/2",children:[(0,w.jsxs)("label",{htmlFor:"groupCode",className:"block mb-2",children:[(0,w.jsx)("span",{className:"text-[#e24c4c]",children:"*"}),"Group Code"]}),(0,w.jsx)(v.L,{inputId:"groupCode",id:"groupCode",name:"groupCode",options:R,optionLabel:"name",optionValue:"code",value:Z.values.groupCode,filter:!0,showClear:!0,filterBy:"code,name",filterPlaceholder:"Search group code or name",onChange:function(e){Z.setFieldValue("groupCode",e.value)},onBlur:Z.handleBlur,placeholder:"Select Group",valueTemplate:function(e,a){return e?(0,w.jsx)("span",{children:e.code+" - "+e.name}):(0,w.jsx)("span",{children:a.placeholder})},itemTemplate:function(e){return(0,w.jsx)("span",{children:e.code+" - "+e.name})},required:!0,className:(0,b.AK)({"p-invalid":K("groupCode"),"p-inputtext-sm":!0}),style:{width:"100%"},resetFilterOnHide:!0}),O("groupCode")]})]})]})})})};var y=function(){return(0,w.jsx)(n.Z5,{children:(0,w.jsxs)(n.AW,{path:"/",element:(0,w.jsx)(n.j3,{}),children:[(0,w.jsx)(n.AW,{path:"create",element:(0,w.jsx)(B,{})}),(0,w.jsx)(n.AW,{path:"edit/:id",element:(0,w.jsx)(B,{})})]})})}}}]);
//# sourceMappingURL=89.7d33cb2c.chunk.js.map