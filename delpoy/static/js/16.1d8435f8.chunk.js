"use strict";(self.webpackChunkaccounts_frontend=self.webpackChunkaccounts_frontend||[]).push([[16],{7699:function(e,a,n){n.d(a,{Fp:function(){return l},JS:function(){return r},Y_:function(){return s},bj:function(){return i},hQ:function(){return t}});var r="GROUP_LIST_REFRESH",t="ACCOUNT_LIST_REFRESH",s="TRANSACTION_LIST_REFRESH",l="BANK_TRANSACTION_LIST_REFRESH",i="USER_LIST_REFRESH"},5016:function(e,a,n){n.r(a),n.d(a,{default:function(){return g}});var r=n(2791),t=n(6871),s=n(5861),l=n(885),i=n(7757),c=n.n(i),o=n(5705),d=n(7953),u=n(4286),p=n(919),m=n(9025),h=n(5854),x=n(3014),f=n(31),v=n(3207),b=n(3829),T=n(1848),S=n(7699),j=n(7436),y=n(184),C=[{label:v.TE,value:v.YT.BalanceSheet},{label:v.e$,value:v.YT.ProfitAndLoss},{label:v.dp,value:v.YT.Trading}];var N=function(){var e=(0,t.UO)(),a=(0,t.s0)(),n=(0,r.useState)(!0),i=(0,l.Z)(n,2),N=i[0],g=i[1],E=(0,r.useState)(!0),R=(0,l.Z)(E,2),_=R[0],k=R[1],A=(0,r.useContext)(j.Il),L=(0,o.TA)({initialValues:{_id:"",code:"",name:"",grpType:v.YT.BalanceSheet},validationSchema:d.Ry({code:d.Z_().max(10,"Code must be 10 characters or less").required("Code is required"),name:d.Z_().max(50,"Name must be 50 characters or less").required("Name is required"),grpType:d.nK().oneOf([v.YT.BalanceSheet,v.YT.ProfitAndLoss,v.YT.Trading]).required("Group Type is required")}),onSubmit:function(){var e=(0,s.Z)(c().mark((function e(a,n){var r,t,s,l,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.setErrors,null===A||void 0===A||A.setDisplayLoader(!0),t=Object.assign({},a),e.prev=3,!_){e.next=11;break}return delete t._id,e.next=8,(0,f.sS)(t);case 8:s=e.sent,e.next=16;break;case 11:return l=t._id,delete t._id,e.next=15,(0,f.mD)(t,l);case 15:s=e.sent;case 16:null===A||void 0===A||A.setDisplayLoader(!1),i={title:"Success",message:s.data,type:b.Xo.SUCCESS,onClose:function(){B(!0)}},(0,b.wp)(i),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),null===A||void 0===A||A.setDisplayLoader(!1),"string"==typeof e.t0&&e.t0.includes("already exists")?r({code:"Code already exists"}):(o={title:"Error",message:e.t0,type:b.Xo.ERROR},(0,b.wp)(o));case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(a,n){return e.apply(this,arguments)}}()});(0,r.useEffect)((function(){if(e.id){k(!1);var a=function(){var a=(0,s.Z)(c().mark((function a(){var n,r;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,f.ex)(e.id);case 3:n=a.sent,L.setValues(n.data),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),r={title:"Error",message:a.t0,type:b.Xo.ERROR},(0,b.wp)(r);case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}();a()}else k(!0)}),[e.id]);var B=function(e){e&&T.YB.dispatch(S.JS),g(!1),a(-1)},F=(0,y.jsxs)("div",{children:[(0,y.jsx)(p.z,{label:"Close",icon:"pi pi-times",onClick:function(){return B()}}),(0,y.jsx)(p.z,{type:"button",label:"Save",icon:"pi pi-save",onClick:L.submitForm,disabled:!L.isValid})]}),w=function(e){return!(!L.touched[e]||!L.errors[e])},O=function(e){return w(e)&&(0,y.jsx)("small",{className:"p-error",children:L.errors[e]})};return(0,y.jsx)(u.V,{visible:N,modal:!0,closeOnEscape:!1,header:"Group - ".concat(_?"Create":"Edit"),footer:F,onHide:B,style:{width:"50%"},blockScroll:!0,children:(0,y.jsx)("div",{className:"p-2",children:(0,y.jsxs)("form",{className:"p-fluid",children:[(0,y.jsxs)("div",{className:"field mb-6",children:[(0,y.jsxs)("label",{htmlFor:"code",className:"block mb-2",children:[(0,y.jsx)("span",{className:"text-[#e24c4c]",children:"*"}),"Code"]}),(0,y.jsx)(m.o,{type:"text",name:"code",id:"code",value:L.values.code,onChange:L.handleChange,onBlur:L.handleBlur,className:(0,h.AK)({"p-invalid":w("code"),"p-inputtext-sm":!0}),placeholder:"Code",autoFocus:!0,required:!0,maxLength:10,disabled:!_}),O("code")]}),(0,y.jsxs)("div",{className:"field mb-6",children:[(0,y.jsxs)("label",{htmlFor:"name",className:"block mb-2",children:[(0,y.jsx)("span",{className:"text-[#e24c4c]",children:"*"}),"Name"]}),(0,y.jsx)(m.o,{type:"text",name:"name",id:"name",value:L.values.name,onChange:L.handleChange,onBlur:L.handleBlur,className:(0,h.AK)({"p-invalid":w("name"),"p-inputtext-sm":!0}),placeholder:"Name",required:!0,maxLength:50}),O("name")]}),(0,y.jsxs)("div",{className:"field mb-6",children:[(0,y.jsxs)("label",{htmlFor:"grpType",className:"block mb-2",children:[(0,y.jsx)("span",{className:"text-[#e24c4c]",children:"*"}),"Type"]}),(0,y.jsx)(x.L,{inputId:"grpType",name:"grpType",id:"grpType",options:C,optionLabel:"label",optionValue:"value",value:L.values.grpType,onChange:L.handleChange,onBlur:L.handleBlur,placeholder:"Select Group Type",className:(0,h.AK)({"p-invalid":w("grpType")})}),O("grpType")]})]})})})};var g=function(){return(0,y.jsx)(t.Z5,{children:(0,y.jsxs)(t.AW,{path:"/",element:(0,y.jsx)(t.j3,{}),children:[(0,y.jsx)(t.AW,{path:"create",element:(0,y.jsx)(N,{})}),(0,y.jsx)(t.AW,{path:"edit/:id",element:(0,y.jsx)(N,{})})]})})}}}]);
//# sourceMappingURL=16.1d8435f8.chunk.js.map